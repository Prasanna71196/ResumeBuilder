<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
  <meta charset="UTF-8">
  <title>Resume - Template 1</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{% static 'css/styles.css' %}">
  <style>
    body { background: #fafbfa; font-family: 'Josefin Sans', Arial, sans-serif; margin: 0;}
    .resume-container { max-width: 760px; margin: 48px auto; background: #fff; border-radius: 18px; box-shadow: 0 6px 28px #dde3df; display: flex; overflow: hidden; min-height: 1000px;}
    .sidebar { background: #63a3a1; width: 230px; color: #f0f7f7; padding: 58px 22px 58px 22px; display: flex; flex-direction: column; align-items: center; min-height: 1000px;}
    .profile-photo { width: 105px; height: 105px; border-radius: 50%; object-fit: cover; border: 4px solid #e5e5e5; background: #deeeed; margin-bottom: 18px;}
    .sidebar-section-title { margin-top: 18px; margin-bottom: 9px; font-size: 16px; font-weight: bold; letter-spacing: 0.5px;}
    .sidebar-info { font-size: 14px; margin-bottom: 14px; line-height: 1.7;}
    .contact-info { margin-top: 11px; font-size: 15px;}
    .contact-info i { margin-right: 7px; }
    .main-content { flex: 1; padding: 64px 36px 64px 36px; background: #fff; min-height: 1000px; display: flex; flex-direction: column; justify-content: flex-start;}
    .main-content h1 { font-size: 32px; font-weight: 700; color: #66a7a6; letter-spacing: 1px; margin-bottom: 6px;}
    .main-content .role { color: #ab9e88; font-size: 15px; font-style: italic; margin-bottom: 14px;}
    .main-block { margin-bottom: 22px;}
    .main-block h2 { font-size: 16px; color: #63a3a1; font-weight: bold; border-bottom: 1px solid #e2f3f4; margin-bottom: 11px; padding-bottom: 2px;}
    .main-block ul { margin-left: 17px; padding: 0; color: #5d7f7c;}
    .main-block ul li { margin-bottom: 4px; font-size: 14px; }
    #achievements { color: #5d7f7c; }

    /* HEADER/FOOTER from home.html */
    .footer-large { background: #047857; color: #fff; width: 100%; padding-top: 46px; padding-bottom: 32px; margin-top: 48px; font-family: 'Poppins', Arial, sans-serif;}
    .footer-content-wrap { display: flex; flex-wrap: wrap; max-width: 1600px; margin: 0 auto; justify-content: flex-start; gap: 60px;}
    .footer-brand-block, .brand-logo { display: flex; align-items: center; gap: 12px; min-width: 230px; margin-bottom: 35px;}
    .footer-link-block { display: flex; gap: 85px; flex: 1; justify-content: flex-start; }
    .footer-link-block > div { display: flex; flex-direction: column; gap: 5px; min-width: 180px;}
    .footer-section-title { color: #b9bccb; font-weight: 600; margin-bottom: 8px; letter-spacing: 0.7px; text-transform: uppercase; margin-top: 5px;}
    .footer-link-block a { color: #fff; text-decoration: none; transition: color 0.15s; font-weight: 400; margin-bottom: 5px; font-size: 1.06em;}
    .footer-link-block a:hover { color: #56a0f3; text-decoration: underline;}
    .footer-bottom-row { display: flex; flex-wrap: wrap; justify-content: space-between; align-items: baseline; gap: 36px; max-width: 1600px; margin: 40px auto 0 auto; padding-top: 35px; border-top: 1.7px solid #27293a;}
    .footer-socmed-row a { color: #b9bccb; font-size: 1.23em; margin: 1px 9px; text-decoration: none; transition: color 0.14s; display: inline-block;}
    .footer-socmed-row a:hover { color: white; background: #047857; border-radius: 50%; }
    @media (max-width: 1100px) { .footer-content-wrap, .footer-bottom-row { flex-direction: column; gap: 18px; align-items: flex-start; } .footer-link-block { flex-direction: column; gap: 28px; } .footer-bottom-row { align-items: flex-start; } }
    @media (max-width: 650px) { .footer-large { padding: 30px 0 16px 0; } .footer-content-wrap, .footer-bottom-row { flex-direction: column; gap: 12px; padding: 0 13px; } .footer-brand-block, .footer-link-block > div { min-width: unset; } }
    .brand-logo { display: flex; align-items: center; font-family: 'Poppins', 'Segoe UI', Arial, sans-serif; font-weight: 700; font-size: 1.45rem; gap: 10px; }
    .brand-logo a { display: flex; align-items: center; text-decoration: none; }
    .brand-img { height: 40px; width: 40px; border-radius: 8px; box-shadow: 0 1.5px 5px rgba(0,0,0,0.15); margin-right: 8px; background: #fff; object-fit: cover; }
    .brand-text { color: #232a3a; font-size: 1.21em; letter-spacing: 0.5px;}
    .brand-highlight { color: white; font-weight: 800; margin-left: 3px; letter-spacing: 1px;}
    .footer .brand-text { color: #fafbfa; }
    .footer .brand-highlight { color: #75cbd3; }

    .resume-container {
  max-width: 760px;
  margin: 40px auto;
  background: #fff;
  border-radius: 18px;
  box-shadow: 0 6px 28px #dde3df;
  display: flex;
  overflow: hidden;
}

.sidebar {
  background: #63a3a1;
  width: 230px;
  color: #f0f7f7;
  /* REMOVE any border-radius here */
  /* border-radius: 18px 0 0 18px; <--- REMOVE or comment this out */
  padding: 58px 22px 58px 22px;
  display: flex;
  flex-direction: column;
  align-items: center;
  min-height: 1000px;
}

.main-content {
  flex: 1;
  padding: 64px 36px 64px 36px;
  background: #fff;
  min-height: 1000px;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  /* REMOVE border-radius or box-shadow here */
}

  </style>
</head>
<body>
  <header class="header">
    <div class="brand-logo">
      <a href="{% url 'home' %}">
        <img src="{% static 'images/logo.png' %}" alt="Vetri Templates Logo" class="brand-img">
        <span class="brand-text">Vetri <span class="brand-highlight">Templates</span></span>
      </a>
    </div>
    <nav>
      <a href="{% url 'home' %}">Home</a>
      <a href="{% url 'templates' %}">Templates</a>
      <a href="{% url 'details' %}">Details</a>
      <a href="{% url 'resume' %}">Resume</a>
    </nav>
    <div id="nav-user"></div>
    <button onclick="logout()" style="margin-left:16px; background:#047857; color:white; border:none; border-radius:5px; padding:5px 18px; cursor:pointer;">Logout</button>
  </header>
  <div class="main-content">
    <div class="resume-container">
      <div class="sidebar">
        <img id="photo" class="profile-photo" src="" alt="Profile Photo">
        <div class="sidebar-section-title">PROFILE</div>
        <div class="sidebar-info" id="summary"></div>
        <div class="sidebar-section-title">CONTACT</div>
        <div class="contact-info">
          <div><i class="fas fa-phone"></i> <span id="phone"></span></div>
          <div><i class="fas fa-envelope"></i> <span id="email"></span></div>
          <div><i class="fas fa-map-marker-alt"></i> <span id="address"></span></div>
        </div>
      </div>
      <div class="main-content">
        <h1 id="name"></h1>
        <div class="role" id="role">Student</div>
        <div class="main-block">
          <h2>EDUCATION</h2>
          <ul id="education"></ul>
        </div>
        <div class="main-block">
          <h2>LANGUAGES</h2>
          <ul id="languages"></ul>
        </div>
        <div class="main-block">
          <h2>COMPUTER SKILLS</h2>
          <ul id="techstack"></ul>
        </div>
        <div class="main-block">
          <h2>VOLUNTEER EXPERIENCE</h2>
          <ul id="experience"></ul>
        </div>
        <div class="main-block">
          <h2>KEY ACHIEVEMENTS</h2>
          <div id="achievements"></div>
        </div>
      </div>
    </div>
  </div>
  <footer class="footer-large">
    <div class="footer-content-wrap">
      <div class="brand-logo">
        <a href="{% url 'home' %}">
          <img src="{% static 'images/logo.png' %}" alt="Vetri Templates Logo" class="brand-img">
          <span class="brand-text">Vetri <span class="brand-highlight">Templates</span></span>
        </a>
      </div>
      <div class="footer-link-block">
        <div>
          <div class="footer-section-title">RESUME</div>
          <a href="#">AI Resume Builder</a>
          <a href="#">ATS Scorer</a>
          <a href="#">Resume Examples</a>
          <a href="#">Resume Templates</a>
          <div class="footer-section-title" style="margin-top:20px;">COVER LETTER</div>
          <a href="#">Cover Letter Examples</a>
          <a href="#">Cover Letter Templates</a>
        </div>
        <div>
          <div class="footer-section-title">JOB SEEKERS</div>
          <a href="#">Job Search</a>
          <div class="footer-section-title" style="margin-top:20px;">RESOURCES</div>
          <a href="#">Blog</a>
          <a href="#">Resume Help</a>
          <a href="#">Job Interview</a>
          <a href="#">Career</a>
          <a href="#">Writing A Resume</a>
          <a href="#">Writing A Cover Letter</a>
        </div>
        <div>
          <div class="footer-section-title">OUR COMPANY</div>
          <a href="#">About Us</a>
          <a href="#">Pricing</a>
          <a href="#">Updates</a>
          <a href="#">Sponsorship Program</a>
          <a href="#">Media Kit</a>
          <a href="#">Affiliates</a>
        </div>
        <div>
          <div class="footer-section-title">SUPPORT</div>
          <a href="#">FAQ</a>
          <a href="#">Contact Us</a>
          <a href="#">Terms Of Service</a>
          <a href="#">Privacy</a>
          <a href="#">Right Of Withdrawal</a>
          <a href="#">Do Not Sell, Do Not Share</a>
          <a href="#">Your Privacy Choices</a>
        </div>
      </div>
    </div>
  </footer>
  <script>
    // Navbar user display + logout logic
    const curUser = localStorage.getItem('current_user');
    document.getElementById('nav-user').innerHTML = curUser ? ("Welcome, " + curUser + "!") : "";
    function logout() {
      localStorage.removeItem('logged_in');
      window.location.href = "{% url 'home' %}";
    }

    // Resume data population
    let data = JSON.parse(localStorage.getItem('resume_data')||'{}');
    document.getElementById('photo').src = data.photo || '';
    document.getElementById('name').innerText = data.name || '';
    document.getElementById('email').innerText = data.email || '';
    document.getElementById('phone').innerText = data.phone || '';
    document.getElementById('summary').innerText = data.summary || '';
    document.getElementById('address').innerText = data.address || '';

    let edu = [];
    if (data.school_10) edu.push(data.school_10 + ', ' + (data.marks_10||'') + ', ' + (data.location_10||''));
    if (data.school_12) edu.push(data.school_12 + ', ' + (data.marks_12||'') + ', ' + (data.location_12||''));
    if (data.college) edu.push(data.college + ', ' + (data.marks_college||'') + ', ' + (data.location_college||''));
    document.getElementById('education').innerHTML = edu.map(e => `<li>${e}</li>`).join('');

    function listField(id, val, fallback = "—") {
      document.getElementById(id).innerHTML = (val ? val.split(",").map(s=>"<li>"+s.trim()+"</li>").join('') : `<li>${fallback}</li>`);
    }
    listField('languages', data.skills);
    listField('techstack', data.techstack);
    listField('experience', data.awards);
    document.getElementById('achievements').innerText = data.achievements || '';
  </script>
</body>
</html>
